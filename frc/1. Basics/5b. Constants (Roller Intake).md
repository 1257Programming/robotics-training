# Constants (Roller Intake)
## What Are Subsystems And WhWat Are They Used For?

As you noticed in our subsystem files whenever a numerical input was required like in the `set()` function, a number was simply put in as a parameter. While the programmer might understand what that number means and why its there, other team members looking at your code may become confused. To allay the confusion, a special variable called a constant is used. This varaible functions like every other variable excpet for the fact that they are always declared in another file and the `final` keyword is used when making them so they can not be changed. Just its name suggests, Constants have a constant value.

### Example Of Constant Usage

Below are two examples of where a constants can be useful.

```java

public RollerIntake() {
        rollerIntakeMotor = new CANSparkMax(2, MotorType.kBrushless);
        ...
    }

```

Turns Into

```java

public RollerIntake() {
        rollerIntakeMotor = new CANSparkMax(ElectricalLayout.INTAKE_MOTOR_ID, MotorType.kBrushless);
        ...
    }

```

```java
case NEUTRAL:
    rollerIntakeMotor.set(0.0);
    break;
``` 
Turns Into

```java
case NEUTRAL:
    rollerIntakeMotor.set(Constants.RollerIntake.INTAKE_NEUTRAL_SPEED);
    break;
``` 
Now instead of guessing to what 0.0 means (speed, port, some mode), the reader will easily understand that it pertains to the speed during the neutral state.

## The Constants File

The constants in our code are declared in a very specific file and in a very specific way. Below is the basic layout of the file.

```java
package frc.robot;

public final class Constants {

    public static class ElectricalLayout {
    }
    public static class Autonomous {
    }
    public static class RollerIntake{
    }
    //Other constants such as Current Limit
}


```

Lets break down the file structure

Within the Constants class there are 3+ classes inside of them. The ElectricalLayout, Autonomous, and one class per subsystem. In this case we only made one subsystem so RollerIntake is the name of the class. Now lets go over what each class is supposed to hold

1. The electrical layout has only one purpose: to show which ID the motor controllers corespond to in the drive train. Every subsystem has all there ID's in there. Keep in mind that we only know the value of these constants when electroncis tells us how they wired it.

2. Autonomous is used to hold enums and variables which are only related to autonomous. Knowing the specifics is not neccesary for this part of the course.

3. In the class relating to a subsystem (Roller Intake),variables such as setpoints for advanced topics like PID and more basic toics like motot speeds are set. For example the ROLLER_INTAKE_NEUTRAL_SPEED would be declared here.

## All neccesary constants being declared

```java
package frc.robot;

public final class Constants {

    public static class ElectricalLayout {
        public final static int ROLLER_INTAKE_MOTOR_ID = 2
    }
    public static class Autonomous {
        //nothing
    }
    public static class RollerIntake{
        public static double ROLLER_INTAKE_NEUTRAL_SPEED = 0.0;
        public static double ROLLER_INTAKE_INTAKE_SPEED = 1.0;
        public static double ROLLER_INTAKE_EJECT_SPEED = -1.0;
    }
    //Other constants such as Current Limit
    public static int NEO_550_CURRENT_LIMIT = 25;

}


```

In this example there is something that may look peculiar. The elctrical layout is declared with a final while all of the other constants are not. The reason for this is testing. While the ID will never change during the code. The speeds may be adjusted during testing. Though, after testing, all the constants will be made final.

Another thing to clarify is the reason why all of these constants are static. That is because they are meant to belong to a class. As a result the constants can only be accesed when something like `RollerIntake.Const` is written.

## Importing Constants and Using Them

Now that all of the constants are declared, they can now be imported into the file where they are to be used. In this case it is the RollerIntake file.

```java

...
import com.revrobotics.CANSparkMax;
import com.revrobotics.CANSparkMax.IdleMode;
import com.revrobotics.CANSparkMaxLowLevel.MotorType;

import frc.robot.Constants;

import static frc.robot.Constants.ElectricalLayout;
import static frc.robot.Constants.RollerIntake.*;
import static frc.robot.Constants.NEO_550_CURRENT_LIMIT;

public class Intake extends SnailSubsystem {
    ...

```

The imports are made at the very beginning of the file along with the other imports. Here all the neccesary sub classes along with the main class is imported along with certain important variables that do not belong in the classes.

Now that the constants are imported, it is time to put them where they belong. Below, the previous code but with constants is included

```java
package frc.robot.subsystems;

import com.revrobotics.CANSparkMax;
import com.revrobotics.CANSparkMax.IdleMode;
import com.revrobotics.CANSparkMaxLowLevel.MotorType;

import frc.robot.Constants;

import static frc.robot.Constants.ElectricalLayout;
import static frc.robot.Constants.RollerIntake.*;
import static frc.robot.Constants.NEO_550_CURRENT_LIMIT;

public class RollerIntake extends SnailSubsystem {

    private final CANSparkMax rollerIntakeMotor;

    public enum State {
        INTAKE,
        EJECT,
        NEUTRAL
    }

    State state = State.NEUTRAL;

    public RollerIntake() {
        rollerIntakeMotor = new CANSparkMax(ElectricalLayout.ROLLER_INTAKE_MOTOR_ID, MotorType.kBrushless);
        rollerIntakeMotor.restoreFactoryDefaults();
        rollerIntakeMotor.setIdleMode(IdleMode.kBrake);
        rollerIntakeMotor.setSmartCurrentLimit(NEO_550_CURRENT_LIMIT);
    }

    @Override
    public void update() {
        switch(state) {
            case NEUTRAL:
                rollerIntakeMotor.set(Constants.RollerIntake.INTAKE_NEUTRAL_SPEED);
                break;
            case INTAKING:
                rollerIntakeMotor.set(Constants.RollerIntake.INTAKE_INTAKE_SPEED);
                break;
            case EJECTING:
                rollerIntakeMotor.set(Constants.RollerIntake.INTAKE_EJECT_SPEED);
                break;
        }
    }

    public void neutral() {
        state = State.NEUTRAL;
    }

    public void eject() {
        state = State.EJECTING;
    }

    public void intake() {
        state = State.INTAKING;
    }

    public State getState() {
        return state;
    }
}
```






