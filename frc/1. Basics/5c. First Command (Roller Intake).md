# Command (Roller Intake)

With our subsystem file finished and filled with constants it is now time to go on to the next big topic: Commands.

## What are commands?

The purpose of a command is to make the robot actually complete an action such as intaking or ejecting or even staying neutral. As a result, there is usually one command per state. These commands eventually get called by other parts of the code when an action needs to be done.

## Command File Format

Now that the basic definiton of a command has been gone over it is time to go over a Command File and its format.
```java
package frc.robot.commands.rollerIntake;

import edu.wpi.first.wpilibj2.command.CommandBase;
import frc.robot.subsystems.RollerIntake;

public class RollerIntakeIntakeCommand extends CommandBase {

    public RollerIntakeIntakeCommand() 
    }

    @Override
    public void initialize() {
    }

    @Override
    public void execute() {
    }

    @Override
    public void end(boolean interrupted) {
    }

    @Override
    public boolean isFinished() {
    }
}
```
Let's go over the imports and the package first.
*
*
*

Now we will briefly look over the purpose of the constructor and the functions
### `public RollerIntakeIntakeCommand()`

This is the consructor for the  command. All this deals with is defining the intake for usage in the subsequent files.

### `public void initialize()`

This is usually not used by the team though it is important to know that this runs only once when a command is scheduled/called. Therefore, only things that will not change like motor speed constants are set here. Also if a aubsystem may have to reset some values this can be done here too.

### `public void execute()` 

This function runs constantely while the command is running. In fact ir runs every 20 ms. Our team uses this to change the state of the subsystem.

### `public void end(boolean interrupted)`

The end function is run once when the command finishes. It is usually used for reverting the subsystem back to the default state though occcsionally, it is used for other things like setting variables to certain values.

### `public boolean isFinished()`

This function is run as often as the `execute()` function and is in charge of setting the conditions for which the command should stop running. While it is usually used in its default state(the scheduler calls another command), sometimes other things can be made to trigger thid function like a state change.

## Adding Functionality

Now that we have the skeleton of the subsystem out of the way, we can start programming the command.

### The Package, Necessary Imports and Class Declaration

```java
package frc.robot.commands.rollerIntake;

import edu.wpi.first.wpilibj2.command.CommandBase;
import frc.robot.subsystems.RollerIntake;



public class RollerIntakeIntakeCommand extends CommandBase {
...
```

* The package is very self explanatory. The file is within a folder called rollerIntake which is inside of commands.
* The first import is a wpilib file called commandBase. This takes care of the functionality of a command and its functions.
* The second import is the subsustem that this command uses. If there are multiple subsystems used, there are multiple imports.
* Lastly, there is the class declaration which is called `Subsystem+Command`. The notable thing is that it extends CommandBase just like subsytems extend Subsystem Base. Many useful function are given because of this.

### Declaring The Intake, Making the Constructor and Initializing the Robot
```java
public class RollerIntakeIntakeCommand extends CommandBase {

    RollerIntake rollerIntake;
    
    public RollerIntakeIntakeCommand(RollerIntake rollerIntake) {
        this.rollerIntake = rollerIntake;
    
        addRequirements(rollerIntake);
    }
    
    @Override
    public void initialize() {
    }
```

* The first thing we do in thefirst class is declare the subsystem we will be using in this class. 
* Then we proceed to define the subsystem using the object passed through the constructor. The whereabouts of original object passed in are not currently relevant though it will become important in future lessons
* After that is `addRequirements(rollerIntake)`. The purpose of addRequirements is to is for the scheduler to know which subsystems are being used for commands. If it sees two commands running the have the rolerIntake is it requirement, it will cancel one of the commands.
* Lastly, is `initialize ()`. There is currently nothing inside of it as this is a basic subsystem. Though it is still left in this case in case there will be future use of it.
